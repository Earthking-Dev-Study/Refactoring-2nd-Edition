1. **반복문 쪼개기**(8.7절)로 변수 값을 누적시키는 부분을 분리한다.
1. **문장 슬라이드하기**(8.6절)로 변수 초기화 문장을 변수 값 누적 코드 바로 앞으로 옮긴다.
1. **함수 추출하기**(6.1절)로 적립 포인트 계산 부분을 별도 함수로 추출한다.
1. **변수 인라인하기**(6.4절)로 volumeCredits 변수를 제거한다.


## 용어

**함수 추출하기** : 코드 조각을 찾아 무슨 일을 하는지 파악한 다음, 독립된 함수로 추출하고 목적에 맞는 이름을 붙힌다.

- 코드를 언제 독립된 함수로 묶어야하는가?
    - 길이
        - 함수 하나가 한 화면을 넘어가면 안된다
    - 재사용성
        - 두 번 이상 사용될 코드는 함수로 만들고, 한 번만 쓰이는 코드는 인라인 상태로 놔두는 것이다.
    - **목적과 구현 분리**
        - 코드를 보고 무슨 일을 하는지 파악하는 데 한참이 걸린다면 그 부분을 함수로 추출한 뒤 '무슨 일'에 걸맞는 이름을 짓는다. 이렇게 한다면 나중에 코드를 다시 읽을 때 함수의 목적이 눈에 확 들어오고, 본문 코드(그 함수가 목적을 이루기 위해 구체적으로 수행하는 일)에 대해서는 더 이상 신경 쓸 일이 거의 없다. 즉, 함수명만으로도 함수가 어떠한 일을 하는지 확실히 알 수 있다.



## 토론 해볼것

### 주제
한편, 리팩터링 과정에서 발견된 버그는 리팩터링 후에도 그대로 남아 있어야 한다.(단, 아무도 발견하지 못한 숨은 버그는 수정해도 괜찮다.)

#### 내생각
리팩터링은 단순히 겉보기 동작은 그대로 유지한채, 코드를 이해하고 수정하기 쉽도록만 내부 구조를 변경하는 기법이니 버그를 수정하는것은 디버깅이기 때문에 이와는 다른 취급을 해야한다라는 뜻인가?



## 용어정리

질의 함수: 연산을 통해 값을 계산하여 반환하는 함수를 말한다. 질의 함수는 내외, 외부의 값을 변경시켜서 부수효과를 만들어선 안된다.

변수 쪼개기 (9.1절): 매개변수로 들어온 변수에 직접 값을 대입해버리면 안된다 따라서 이것을 대신할 변수를 따로 만들어서 그 변수에 대입을한다.

문장 슬라이드하기: 같은 기능을 하는 변수나 함수들은 한데 모아놓는게 좋다. 그렇게하면 그 모아둔 코드를 가지고 함수 추출하기도 고려할수 있음을 항상 생각한다.
